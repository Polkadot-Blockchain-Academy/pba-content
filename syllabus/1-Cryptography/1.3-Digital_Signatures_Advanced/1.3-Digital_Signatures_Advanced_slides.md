---
title: Digital Signatures Adcanced # Also update the h1 header on the first slide to the same name
description: Describe your slides here
duration: 1 hour
instructors: ["some one", "Pratyush Ranjan Tiwari"]
teaching-assistants: ["some one", "another gal"]
---

# Digital Signatures

### _Module 1, Lecture 3_

---

### Outline

<!--
You can reference slides within this presentation like [this other slide](#at-the-end-of-this-lecture-you-will-be-able-to) by use of the header title.

Please make your lecture precise.

- Limit the main points in a lecture to five or fewer.
- Create effective visuals, analogies, demonstrations, and examples to reinforce the main points.
  {TAs and the Parity design team can assist! Please let us know marking an item here as `TODO`}
- Emphasize your objectives and key points in the beginning, as you get to them, and as a summary at the end.

-->

1. [Power of elliptic curves](#general)
1. [Various curves and signatures in Blockchains](#sigs)
1. [Hierarchically Deterministic Key Derivation](#hdkd)
1. [Multi-sigs](#multisigs)
1. [Schnorr Signatures and Key-aggregation](#schnorr)
1. [BLS Signatures](#bls)
1. [Signatures in Substrate](#substratespecific)
1. [Threshold Signatures](#threshold)


---


## The power of elliptic curves

What are the different types of signature schemes utilized by blockchains today, mostly ECDSA based:

- Elliptic curve mathematics allows one to perform operations on a mathematical object: and elliptic curve (add graphic)
- Why elliptic curves? 
- With elliptic curve cryptography (ECC), the size of the keys to achieve the same level of security is much lower than RSA-based cryptography (another popular cryptographic assumption)
- Therefore, ECC: High security, short keys, fast operations
- As an example, using OpenSSL, for the same level of security ECDSA keys are 256-bits compared to 2048-bit RSA keys
- Time to sign for ECDSA: 20x faster

---

## Various curves and signatures in Blockchains

These are the different curves and signature schemes used today:

- Curve: secp256k1 , ECDSA signatues (Bitcoin, Ethereum, Cosmos etc.)
- secp256k1 was chosen for efficient implementation first by Satoshi
- Curve: ed25519, EdDSA signatures (Solana, ZCash etc.)
- EdDSA does not need a random (unpredictable) string for each signature, unlike ECDSA
- ECDSA: The random strings/numbers used for each signature should be kept secret and never repeated, else secret key can be recovered
- BLS signatures are another type of signatures, efficient but also need an extra, slightly expensive ingredient "pairing functions"
---

## Hierarchically Deterministic Key Derivation (HDKD)

HDKD allows deriving multiple child keys from a parent key pair:

- In the past, to avoid using the same key for privacy and security reasons, old blockchain clients would cache ~100 random keys for use
- However, these keys are all random and have no connection to each other
- HDKD allows deriving a single chain of keypairs, from one parent key pair
- Hard keys are derived from the parent private key and a derivation path
- Soft keys are derived from the parent private key or the parent public key and a derivation path
- The addresses associated with derived keys can then be used to sign messages with the same security as messages signed by their root key
- Key advantages: no need to backup all keys as keys can be derived from parent keys, higher privacy as multiple public addresses can be generated useing derived keys
---

## Multi-sigs

Multi-sigs, short form for Multi-signatures allow multiple parties to authorize activity (transactions etc.)

- Each party has their own key
- Signature on the same message is needed from the different parties to authorize activity
- Why Multi-sigs?
- Joint accounts: multiple parties can control one pool of funds together
- Increasing security: when private keys to spend from a wallet are spread across multiple machines, you get more security
- $m$-of-$n$ multi-sigs allow authorization with $m$ out of total $n$ keys
 
---

## Schnorr Signatures and Key-aggregation

Schnorr signatures also use elliptic-curve cryptography (ECC):

- Most importantly Schnorr signatures allow for Key Aggregation
- Key aggregation: multiple parties can combine their public keys
- First the three parties combine their public keys, to form a single combined public key (used for verification)
- Then each party signs the same message
- In the end, all the signatures from different parties, on the same message are combined: to just 1 signature
- Great on-chain storage efficiency, verification efficiency
---

## BLS Signatures

Advantages of BLS Signatures:

-  BLS signatures support both threshold and non-threshold multi-signatures, but BLS signatures permit non-interactive "aggregation", unlike the interactive process required for Schnorr
- As a result, BLS signatures maybe useful when frequently proving consensus results outside the chain, e.g. to light clients

Disadvantages, why BLS isn't used for accounts:

- BLS signature verification is hundreds of times slower than Schnorr, due to using pairings, so they typically only appear in exotic situations, e.g. light clients
- BLS signatures can not be combined with soft key derivations as BLS signatures by one secret key can be transformed into BLS signatures on the same message signed by any (linearly) related secret keys

---

## Signatures in Substrate


---

## Threshold Signatures

If "atleast" $t$ out of total $n$ parties approve, signature is generated

- Runs an interactive protocol among multiple parties for generating keys and signing
- Signer information folded into 1 signature
- No need to know who signed, as long as threshold of parties sign
- Efficent: can sign off-chain and communicate the information on-chain
- The blockchain does not need to know the exact signer information
- Allows for committee based, privacy-preserving protocols: as long as a threshold of votes received, signature is generated

---
