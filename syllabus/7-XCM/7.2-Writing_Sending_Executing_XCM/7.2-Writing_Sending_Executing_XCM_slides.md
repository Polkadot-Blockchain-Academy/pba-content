---
title: Writing, Sending, and Exectution of XCM # Also update the h1 header on the first slide to the same name
description: Describe your slides here
duration: 1 hour
instructors: ["Gavin Wood", "Keith Yeung"]
teaching-assistants: ["Dan Shields"]
---

# Writing, Sending, and Exectution of XCM

### _Module 7, Lecture 2_

---

<div class="flex-container">
<div class="left text-right"> <!-- Gotcha: You Need an empty line to render MD inside <div> -->

<!-- TODO: add a good circularly cropped headshot of ou to the `assets/profile` folder  -->
<img style="width: 550px; float:right; margin-right:30px" src="../../assets/img/Shared/profile.png"/>

</div>
<div style="margin-top:130px" class="right text-left"> <!-- Gotcha: You Need an empty line to render MD inside <div> -->

### Instructor Name

<!-- .element: style="margin-bottom: -30px;" -->

#### _Position or Title_

<!-- .element: style="margin-left: 20px;" -->

- I am a Subject matter in X
- A bit about me

_[Twitter](https://twitter.com) // [LinkedIn](https://linkedin.com) // [Email](mailto:)_

</div>
</div>

---

### Outline

<!--
You can reference slides within this presentation like [this other slide](#at-the-end-of-this-lecture-you-will-be-able-to) by use of the header title.

Please make your lecture precise.

- Limit the main points in a lecture to five or fewer.
- Create effective visuals, analogies, demonstrations, and examples to reinforce the main points.
  {TAs and the Parity design team can assist! Please let us know marking an item here as `TODO`}
- Emphasize your objectives and key points in the beginning, as you get to them, and as a summary at the end.

-->

1. [Pre-requisites](#pre-requisites)
1. [Major topic A](#major-topic-a)
1. Major topic B
1. [Exercise X](#exercise-title)
1. Major topic C
1. [Conclusion](#conclusion)
1. [Next Steps](#next-steps)
1. [References](#references)

---

## Pre-requisites

No background in X is necessary. However, the following are expected:

- Y
- Z
- \\(\alpha\\)

---

### _At the end of this lecture, you will be able to:_

<!-- TODO: fill this in  -->

- Describe ...
- Navigate ...
- Justify ...

---

## XCM Communication Model

XCM is designed around four 'A's:

- **Agnostic**: No assumtions about Consensus System messaged
- **Absolute**: Guaranteed delivery, interpretation, and ordering
- **Asynchronous**: No assumtion of blocking for sender/reciver
- **Asymmetric**: No results or callbacks (separately communicated!)

<!-- TODO: see if we still need to include anything more from the XCM format spec section 1.1 https://github.com/paritytech/xcm-format/#11-xcm-communication-model -->

Notes:

- **Asynchronous**: XCM messages in no way assume that the sender will be blocking on its completion.
- **Absolute**: XCM messages are guaranteed to be delivered and interpreted accurately, in order and in a timely fashion.
- **Asymmetric**: XCM messages do not have results. Any results must be separately communicated to the sender with an additional message.
- **Agnostic**: XCM makes no assumptions about the nature of the Consensus System between which messages are being passed.

---

# XCM is an evolving format!

We are presently in V2 with V3 on the way!

Notes:
XCM is a work-in-progress, versioned format!
A goal of this module is to make you capable of contributing to it.

<!-- TODO: activity to look at proposed but not finalized addition (something like a ZK instruction set) -->

---

## Async vs Sync

<!-- todo SME to expand and check content -->

XCM crossing the barrier between a single consensus system cannot generally be asyncronous.

Notes:
Generally, Consensus systems are not designed to operate async with external systems.
They intrinsically need to have a uniform state to reson about and

---

## XCM is "fire and forget"

XCM has no results:

- No errors reported to sender
- No callbacks for sender

Similar to UDP

Notes:
The reciver side can and does handle errors, but the sender will not be notified in any fashion.

---

## Async XCM

We _could_ have XCM describe async behavior but do not because:

- Complexity, custom per sender/recever pair
- Expense of operating in fee-based systems
-

<!-- TODO go into details around the challenges of async messages, no ability to get real time error messages or feedback -->

Notes:
expensive to get feedback, no callbacks
design considerations for async messages

---

# XCM Protocols

Notes:
The format needs to be impimented, we will start with the first

---

## XCMP has two _meanings_

<!-- TODO: out of place? we want to discuss this somewhere... -->

1. Generalized category of transport mechanisms (HRMP, DMP, UMP)
   - These are not all concretely defined, an incorrectly used interchangeably
2. Concretely the one transport protocol for parachains on the same relay chain.

---

<img style="height: 100vh;" src="../../../assets/img/7-XCM/xcm-stack.png" alt="XCM stack"/>

#### _XCM Protocol Stack_

Notes:
Polkadot systems for executing XCM: UMP, DMP and XCMP.
UMP (Upward Message Passing) allows parachains to send messages to their relay chain.
DMP (Downward Message Passing) allows the relay chain to pass messages down to one of their parachains.
XCMP, which is perhaps the best known of them, allows the parachains to send messages between themselves.
In addition to sending messages between chains, XCM is also useful in other contexts, for transacting with a chain whose transaction format you don’t necessarily know well in advance.
With chains whose business logic changes little (for example Bitcoin), the transaction format — or the format used by wallets to send instructions to the chain —tends to remain exactly the same, or at least compatible, indefinitely.

---
