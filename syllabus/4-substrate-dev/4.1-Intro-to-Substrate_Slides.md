---
title: Introduction to Substrate
description: Substrate Overview for Web3 engineers
duration: 45 minutes
instructors: ["Kian Paimani"]
teaching-assistants: ["..."]
---

# Introduction to Substrate

<widget-speaker name="Kian Paimani" position="FRAME/Staking Engineer" image="../../../assets/img/0-Shared/people/kian.png" github="kianenigma" twitter="kianenigma"></widget-speaker>

---

## What is Substrate?

Substrate is a **Rust framework** for **building blockchains** in a modular and extensible way.

---v

### Why Substrate?

<div>
Future is multi-chain.

..
</div>

<div>
Building a blockchain is hard.

..
</div>

<!-- .element: class="fragment" -->


**A framework to easily build solid blockchains that allows flexibility, but does not sacrifice safety.**

<!-- .element: class="fragment" -->

> In general you shouldn't try to build a blockchain yourself from scratch. You will probably get it
> wrong.

<!-- .element: class="fragment" -->

---v

### Core Philosophies of Substrate

The non-substrate way of thinking:

* Writing blockchains is hard.
* Upgrading blockchains is hard.
* We are going to spend near-infinite resources at making sure we get it right.

It all starts with a deep acknowledgment that **humans are fallible**.

> It is only a matter of time until the "right choice" today turns into a mistake in the future.

Unless, if you don't fix it üß†.

Outcomes:

* Rust as a language
* Upgradeability through a WASM meta-protocol.
* Generic. APIs >> Opinions.

---v

### Core Philosophies of Substrate: Rust as a language

Memory safety is a fundamental issue in most major system-level programming languages.

* üò≠ `segfault`
* üòá You **cannot** make certain mistakes in Rust.
* üèéÔ∏è Most Rust abstractions are zero-cost. Rust has no "runtime".


---v

### Core Philosophies of Substrate: Upgradeability

* üí™üèª Substrate is HIGHLY upgradable. We'll learn about it soon.


---v

### Core Philosophies of Substrate: Generic

* Multiple consensus engines (BABE/Grandpa/AURA)
* Multiple network protocols (QUIC, TCP..)
* Multiple database implementations (ParityDB, RocksDB)
* Multiple ledger-state formats (UTXO, Account-based)

---v

### Core Philosophies of Substrate: Generic

* **AlephZero**: Custom consensus, DAG-based, 1s block time.
* **Moonbeam**: Ethereum compatible, build with substrate
* **HydraDX**: Custom transaction pool logic to match DEX orders.

---

## Substrate Architecture

At a very high level, a Substrate node has two parts:

1. A Wasm runtime: Business logic as wasm.
2. The Client - A Wasm executor.

> Client ~ Host ~ Node

---v

### Substrate Architecture

<img src="../../../assets/img/4-Substrate/dev-4-1-substrate.svg"></img>

---

## The Runtime

The runtime contains all of the **business logic** of your chain.

...

In a more *fancy* term, the runtime is the **state transition function**.

...

In a more *technical* term, the definition of **how your blockchain executes blocks**.

NOTE:

TODO: check how much has so far been told about STF. If not, delve deep into it. A basic automata.

---v

### State Transition

**State:** The entire set of data that we want to come to consensus about.

<img style="width: 1200px;" src="../../../assets/img/4-Substrate/dev-4-1-state.svg"></img>

---v

### State Transition

**Transition:** The runtime, the piece of logic that dictates how the state changes.

<img style="width: 1200px;" src="../../../assets/img/4-Substrate/dev-4-1-transition.svg"></img>

NOTE:

TODO: make the image a bit better for scale.

---v

### STF is Turing-Complete

> A programming language is called ‚ÄúTuring complete‚Äù if it can run any program that a Turing Machine can run given enough time and memory

The runtime, except for context dependent resource limitations, is turing-complete.

---v

### Consequences of *WASM* Runtime

* ü§ñ deterministic execution
* üß± sandboxing (more relevant in Polkadot)
* üòé forkless upgrade!*


> *Arguably the biggest design choice of the whole substrate ecosystem.

---v

### ü§ñ Deterministic Execution

* The need for determinism in a blockchain runtime is *absolute*.

---v

### üß± Sandboxing

* Substrate uses the same WASM machinery for executing:

1. smart contracts
2. Parachain Runtime (i.e. PVF)

---v

### üòé Forkless Upgrade:


<img style="width: 1200px;" src="../../../assets/img/4-Substrate/dev-4-1-forkless-1.svg" />

---v

### üòé Forkless Upgrade:

<img style="width: 1200px;" src="../../../assets/img/4-Substrate/dev-4-1-forkless-2.svg" />

---v

### What is WASM Anyways?

<img style="width: 1200px;" src="../../../assets/img/4-Substrate/dev-4-1-wasm-langs.svg">

---v

### What is WASM Anyways?

* Streaming compilation.
* Designed with the concept of host in mind.
* Secure foreign code execution.
* Universal support for host language and host browser.

---v

### What is WASM Anyways?

<img style="width: 1200px;" src="../../../assets/img/4-Substrate/dev-4-1-wasm.svg">

---v

### SMOLDOT

A true marvel of universe.

---v

### How to Write a WASM Runtime?

* Any language that can compile to WASM and exposes a fixed set of functions, to be used by the
client.
* ... But, of course, Substrate comes with its own variant of this, **FRAME‚Ñ¢Ô∏è**.

---

## The Client

Everything else you need in a blockchain, except the consensus-critical, deterministic runtime we
just spoke of.

TODO: figure of all the other components

---v

### The Client: Consensus ü§î

Yes, consensus is not a core part of a blockchain runtime. It is not application logic. It is not something you want to customize.

The consensus protocol is to your runtime what HTTP is to Facebook.

---v

### The Client

- Compiled to native.
- No need for determinism.
- Has access to anything a normal program does (memory, disk, syscalls etc.)

---

### Substrate: The Gaming Console of Blockchains!

<div class="flex-container">
<div class="left">

<img src="../../../assets/img/4-Substrate/nintendo-console-2.png" style="width:400px;"/>

Substrate Client

</div>
<div class="right">

<img src="../../../assets/img/4-Substrate/nintendo-game.png" style="width:400px;"/>

Substrate Runtime

</div>
</div>


---

### Substrate: VHDL and FPGA analogy.


---

## Client <-> Runtime Communication

<img style="width: 700px; border: solid 5px #fff;"
src="../../../assets/img/4-Substrate/simple-runtime-interface.svg">

Notes:

We will learn more about Runtime interfaces in lesson 4.

---

## Technical Freedom vs Ease

<img style="width: 1000px;" src="../../../assets/img/4-Substrate/freedom-ease.svg"/>

---

## Lecture Recap

* Substrate is a modular and extensible framework for blockchain development.
* ...
