<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>Sassafras Authoring</title>
  <link rel="icon" href="./../../assets/favicon.svg" />
  <link rel="shortcut icon" href="./../../assets/favicon.png" />
  <link rel="stylesheet" href="./../../dist/reset.css" />
  <link rel="stylesheet" href="./../../dist/reveal.css" />
  <link rel="stylesheet" href="./../.././assets/styles/PBA-theme.css" id="theme" />
  <link rel="stylesheet" href="./../../css/highlight/shades-of-purple.css" />

  <link rel="stylesheet" href="./../.././assets/styles/custom-classes.css" />

</head>

<body class="site">
  <header class="site-header">
    <!-- This logo is a link only on the watching server, not the production build -->
    <a href="">
      <img style="height: 2.5vw;" class="watermark-logo" src="./../../assets/img/0-Shared/logo/pba-logo-white.svg"
        alt="PBA Logo">
    </a>
  </header>
  <main class="reveal">
    <article class="slides">
      <section  data-markdown><script type="text/template">

## Sassafras and Semi-Anonymous Single Leader Election
</script></section><section  data-markdown><script type="text/template">
# But..

- Wait dont we have BABE? <!-- .element: class="fragment" data-fragment-index="2" -->
</script></section><section  data-markdown><script type="text/template">
# Why replace BABE?

- Forks are legitimate. <!-- .element: class="fragment" data-fragment-index="1" -->
- Why is forking an issue? <!-- .element: class="fragment" data-fragment-index="2" -->
- Fun Fact Babe only uses random slot assignment 25% of the time <!-- .element: class="fragment" data-fragment-index="3" -->
- Why is this an issue? <!-- .element: class="fragment" data-fragment-index="4" -->

<aside class="notes"><p>Is an issue because falling back on a known ahead of time schedule is vunerable to attacks</p>
</aside></script></section><section  data-markdown><script type="text/template">
# Can we do better?

<pba-cols>
<pba-col>
<img style="width: 700px" src="./img/Sassafras-albidum.jpg" /><!-- .element: class="fragment" data-fragment-index="0" -->
</pba-col>
<pba-col>
Yes!! Sassafras!!<!-- .element: class="fragment" data-fragment-index="1" -->
</script></section><section  data-markdown><script type="text/template">
# So what are our goals again?

- Reduce to no forks(Almost) <!-- .element: class="fragment" data-fragment-index="1" -->
- Make slots annonymous(Not known ahead of time) <!-- .element: class="fragment" data-fragment-index="2" -->
- Go fast be secure etc.. <!-- .element: class="fragment" data-fragment-index="3" -->

<aside class="notes"><ul>
<li>Does anyone know how we can still have forks no matter what?</li>
<li>Why do we want that again?</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
# Re-visit

- Ring Signatures <!-- .element: class="fragment" data-fragment-index="1" -->
- VRF <!-- .element: class="fragment" data-fragment-index="2" -->
- RingVRF <!-- .element: class="fragment" data-fragment-index="3" -->

<aside class="notes"><p>VRF value is like a pubkey (Publicly known) and can provide
a signature or proof that you produced that random value</p>
</aside></script></section><section  data-markdown><script type="text/template">
# Ring Signatures

- Recall from cryptography <!-- .element: class="fragment" data-fragment-index="1" -->
- For a group of size n we can create an annoymous signature from within that group <!-- .element: class="fragment" data-fragment-index="2" -->
- Meaning we have a valid signature but from that signature cannot identify which secret in the ring signed the message <!-- .element: class="fragment" data-fragment-index="3" -->

<aside class="notes"><ul>
<li>Ring signatures trade some <em>non-repudation</em> for <em>privacy</em>.</li>
<li>So what do we</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
# VRF

- For some public input seed and some secret we can produce a random output <!-- .element: class="fragment" data-fragment-index="1" -->
- We can then submit a VRF 'signature' or proof that we indeed possess the secret that generated that random output <!-- .element: class="fragment" data-fragment-index="2" -->

<aside class="notes"><p>VRF value is like a pubkey (Publicly known) and can provide
a signature or proof that you produced that random value</p>
</aside></script></section><section  data-markdown><script type="text/template">
# RingVRF

- We combine these ideas..<!-- .element: class="fragment" data-fragment-index="1" -->
- So we have a VRF output which we generated with 'Some secret'. <!-- .element: class="fragment" data-fragment-index="2" -->
- i.e. We know that a Random output was generated by someone in the 'Ring' but we dont know who generated it. <!-- .element: class="fragment" data-fragment-index="3" -->
- We can submit a proof saying yes this was indeed us from the ring (i.e. I produced this output) <!-- .element: class="fragment" data-fragment-index="4" -->
</script></section><section  data-markdown><script type="text/template">
# Why is a RingVRF useful?

- Answer: Allows us to know someone we know(sort of) has produced a VRFOutput but to not know who. <!-- .element: class="fragment" data-fragment-index="1" -->

<aside class="notes"><p>Sort of because we know that the person is in the Ring</p>
</aside></script></section><section  data-markdown><script type="text/template">
# Who will the participants be in the Ring?

<pba-cols>
<pba-col>
<img style="width: 500px" src="./img/blockchain_network.png" /> <!-- .element: class="fragment" data-fragment-index="0" -->
</pba-col>
<pba-col>
Answer: Active consensus participants (Validators) <!-- .element: class="fragment" data-fragment-index="1" -->
</script></section><section  data-markdown><script type="text/template">
# Tickets

<pba-cols>
<pba-col>
<img style="width: 500px" src="./img/party_tickets.png" /> <!-- .element: class="fragment" data-fragment-index="0" -->
</pba-col>
<pba-col>

- A Ticket for the lottery <!-- .element: class="fragment" data-fragment-index="1" -->
- Each participant creates a ticket (RingVRFOutput) <!-- .element: class="fragment" data-fragment-index="2" -->
- When should we create a ticket? <!-- .element: class="fragment" data-fragment-index="3" -->

<aside class="notes"><ol>
<li>Lottery being participation in consensus!</li>
<li>Tickets should be created and submitted One epoch before the Party begins</li>
<li>Why do we want to be a person selected to participate in consensus again?</li>
</ol>
</aside></script></section><section  data-markdown><script type="text/template">
# Submission of tickets

<pba-cols>
<pba-col>
<img style="width: 500px" src="./img/ticket_submission.png" /> <!-- .element: class="fragment" data-fragment-index="0" -->
</pba-col>
<pba-col>

- Each Participant computes and submits their ticket on-chain <!-- .element: class="fragment" data-fragment-index="1" -->
</script></section><section  data-markdown><script type="text/template">
## Is there a problem?

- Question: is there any issue with submitting your own ticket? <!-- .element: class="fragment" data-fragment-index="0" -->
- Answer: Annonymity broken!! <!-- .element: class="fragment" data-fragment-index="1" -->
</script></section><section  data-markdown><script type="text/template">
### Assigning Tickets to slots

- We want to prevent someone from finding ways to manipulating randomness <!-- .element: class="fragment" data-fragment-index="0" -->
- What can happen if a bad actor can get a majority of the slots for an epoch? <!-- .element: class="fragment" data-fragment-index="1" -->

<aside class="notes"><ul>
<li>Consecutive slots can lead to more biasability in the randomness later down the line - Consecutive slots can cause problems for the network like outages or maliciious long forks</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
# Outside in assignment

1. `[tick0, tick1, tick2, tick3,.. tickN]` <!-- .element: class="fragment" data-fragment-index="0" -->
1. `[tick1, tick3, .., tick2, tick0]` <!-- .element: class="fragment" data-fragment-index="1" -->

<aside class="notes"><ol>
<li>How does this help?</li>
<li>Answer: If you have found a way to get consecutive tickets then it breaks up the consecutive tickets</li>
</ol>
</aside></script></section><section  data-markdown><script type="text/template">
## Claim a slot

- Question: Now that slot x is up for grabs how do we prove that it is ours? <!-- .element: class="fragment" data-fragment-index="0" -->
- Answer: Submit our unique VRF Signature/Proof <!-- .element: class="fragment" data-fragment-index="1" -->
- Produce the block!! <!-- .element: class="fragment" data-fragment-index="2" -->
</script></section><section  data-markdown><script type="text/template">
# Summary

1. Produce RingVRFoutput(Ticket) one epoch before <!-- .element: class="fragment" data-fragment-index="0" -->
1. Send to a friend <!-- .element: class="fragment" data-fragment-index="1" -->
1. They post on chain <!-- .element: class="fragment" data-fragment-index="2" -->
1. Outputs get assigned to slots randomly(psuedo) <!-- .element: class="fragment" data-fragment-index="3" -->
1. When it is your turn submit VRF signature(proof) <!-- .element: class="fragment" data-fragment-index="4" -->
1. Build your block and get rewards! <!-- .element: class="fragment" data-fragment-index="5" -->
</script></section><section  data-markdown><script type="text/template"></script></section>
    </article>
  </main>

  <script src="./../../dist/reveal.js"></script>

  <script src="./../../plugin/markdown/markdown.js"></script>
  <script src="./../../plugin/highlight/highlight.js"></script>
  <script src="./../../plugin/zoom/zoom.js"></script>
  <script src="./../../plugin/notes/notes.js"></script>
  <script src="./../../plugin/math/math.js"></script>

  <script src="./../../assets/plugin/mermaid.js"></script>
  <script src="./../../assets/plugin/mermaid-theme.js"></script>

  <script src="./../../assets/plugin/chart/chart.js"></script>
  <script src="./../../assets/plugin/chart/chart.min.js"></script>

  <script src="./../../assets/plugin/tailwindcss.min.js"></script>

  <script>
    function extend() {
      var target = {};
      for (var i = 0; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (source.hasOwnProperty(key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    }

    // default options to init reveal.js
    var defaultOptions = {
      controls: true,
      progress: true,
      history: true,
      center: true,
      transition: 'default', // none/fade/slide/convex/concave/zoom
      slideNumber: true,
      mermaid: {
        startOnLoad: false,
        logLevel: 3,
        theme: 'base',
        themeVariables: {
          primaryColor: purple,
          primaryTextColor: white,
          primaryBorderColor: pink,
          lineColor: pink,
          secondaryColor: lightPurple,
          tertiaryColor: lightPurple,
        },
      },
      chart: {
        defaults: {
          color: 'lightgray', // color of labels
          scale: {
            beginAtZero: true,
            ticks: { stepSize: 1 },
            grid: { color: "lightgray" }, // color of grid lines
          },
        },
        line: { borderColor: ["#ccc", "#E6007A", "#6D3AEE"], "borderDash": [[5, 10], [0, 0]] },
        bar: { backgroundColor: ["#ccc", "#E6007A", "#6D3AEE"] },
      },
      plugins: [
        RevealMarkdown,
        RevealHighlight,
        RevealZoom,
        RevealNotes,
        RevealMath,
        RevealMermaid,
        RevealChart
      ]
    };

    // options from URL query string
    var queryOptions = Reveal().getQueryHash() || {};

    var options = extend(defaultOptions, {"width":1400,"height":900,"margin":0,"minScale":0.2,"maxScale":2,"transition":"none","controls":true,"progress":true,"center":true,"slideNumber":true,"backgroundTransition":"fade"}, queryOptions);
  </script>


  <script>
    Reveal.initialize(options);
  </script>
</body>

</html>
