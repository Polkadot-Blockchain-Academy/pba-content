<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>Unstoppable Applications</title>
  <link rel="shortcut icon" href="./../../assets/favicon.ico" />
  <link rel="stylesheet" href="./../../dist/reset.css" />
  <link rel="stylesheet" href="./../../dist/reveal.css" />
  <link rel="stylesheet" href="./../../assets/styles/PBA-theme.css" id="theme" />
  <link rel="stylesheet" href="./../../css/highlight/shades-of-purple.css" />

  <link rel="stylesheet" href="./../.././assets/styles/custom-classes.css" />

</head>

<body class="site">
  <header class="site-header">
    <!-- This logo is a link only on the watching server, not the production build -->
      <img style="height: 2.5vw;" class="watermark-logo" src="./../../assets/img/0-Shared/logo/pba-logo-white.svg"
      alt="PBA Logo">
  </header>
  <main class="reveal">
    <article class="slides">
      <section  data-markdown><script type="text/template">

# Unstoppable Applications

<aside class="notes"><p>Much like tokenomic design, that is a large component in unstoppable apps that incorporate cryptocurrency or other motivating factors, this lesson is far far too short to give you all the tools and techniques to make a robust DApp design.</p>
<p>Instead we strive to highlight the problem space we face and some classes of solutions to them.</p>
</aside></script></section><section  data-markdown><script type="text/template">
## Motivation

So far, we have discussed state machines and consensus... in _isolation_.

Does the _contexts in which they operate within_ matter?

<aside class="notes"><ul>
<li>So far <em>mostly</em> on simplified, idealized systems.<ul>
<li>&quot;Black boxes&quot; of cryptography</li>
<li>Rational actors and assumed complete models of behavior in economics</li>
<li>Blockchains as an &quot;<a href="https://en.wikipedia.org/wiki/Isolated_system">isolated system</a>&quot; of sorts - external systems <em>cannot</em> be reasoned about in the same way...
We will talk about the Oracle Problem.</li>
</ul>
</li>
<li>In <em>practice</em> there are far more <a href="#%F0%9F%99%88-unknown-unknowns">&quot;unknown unknowns&quot;</a> and &quot;black swan&quot; behavior.
More to come on that in this lesson.</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
<!-- .slide: data-background-color="#4A2439" -->

## Discussion

> What properties of a system make it "stoppable"?

<aside class="notes"><ul>
<li>Web2 context: central providers &amp; authorities, ...</li>
<li>Web3 context: decentralized, ...</li>
<li>What properties of a system make it &quot;stoppable&quot;?</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
### Unstoppable Apps Properties

<pba-flex center>

- Anitfragile
- Trustless\*
- Censorship-less\*
- Accessible\*
- ...perhaps more?

</pba-flex>

<aside class="notes"><p>The &quot;*&quot; indicates the Web3 context for defining properties, not generally.
Not all of these can apply, nor is is possible all simultaneously apply.
We need to craft the system properties based on what we must achieve.
In reality we strive for Absolute Unstoppability, but likely cannot grantee it in <em>every possible scenario</em>.</p>
</aside></script></section><section  data-markdown><script type="text/template">
## Anitfragile

<pba-cols>
<pba-col>
<div style="font-size:smaller">

> Some things benefit from shocks; they thrive and grow when exposed to volatility, randomness, disorder, and stressors and love adventure, risk, and uncertainty.
> Yet, in spite of the ubiquity of the phenomenon, there is no word for the exact opposite of fragile.
> Let us call it antifragile.
> Antifragility is beyond resilience or robustness.
> The resilient resists shocks and stays the same; the antifragile gets better.
>
> -- [Antifragile](<https://en.wikipedia.org/wiki/Antifragile_(book)>) --

</div>

</pba-col>
<pba-col>
<img rounded style="width: 550px" src="../../assets/img/3-Blockchain/hydra-Gustave_Moreau.jpg" />
</pba-col>
</pba-cols>

<aside class="notes"><ul>
<li>Read Antifragile quote, recommend book recommended, see the links throughout slides for more after class.</li>
<li>Hydra fable &amp; lore: <a href="https://en.wikipedia.org/wiki/Lernaean_Hydra">https://en.wikipedia.org/wiki/Lernaean_Hydra</a> - even though can be almost completely destroyed, it is <em>resilient</em> and recovers.
Absolutely Unstoppable doesn&#39;t mean it cannot be damaged or even paused temporarily, it means it cannot cease to exist and will eventually recover, and ideally come back stronger in doing so.</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
## An N-lemma

Hypothesis: a _absolutely_ Unstoppable App cannot exist.

We must make trade-offs out of all N properties<br/>that a _absolutely_ Unstoppable App would possess.

<pba-cols>
<pba-col>
<img rounded style="width: 600px" src="../../assets/img/3-Blockchain/trilemma.svg" />
</pba-col>
<pba-col>
<img rounded style="width: 600px" src="../../assets/img/3-Blockchain/scalability-trilemma.svg" />
</pba-col>
</pba-cols>

<aside class="notes"><p>As with crypto, we can have astronomically good odds...
But they are not perfect.
We want the most robust system possible, given the <em>environment and context</em> the consensus system lives in.</p>
<p>More relevant trilemma:</p>
<ul>
<li><a href="https://vitalik.ca/general/2021/04/07/sharding.html#the-scalability-trilemma">Scalability</a></li>
<li><a href="https://en.wikipedia.org/wiki/Zooko&#39;s_triangle">Zooko&#39;s Triangle</a> (Network IDs)</li>
<li>More likely!</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
## Attacking Web3

<img rounded style="width: 1000px" src="../../assets/img/3-Blockchain/3.4-xkcd-security.png" alt="https://xkcd.com/538/" />

<aside class="notes"><p>Key point: your &quot;perfect&quot; system in is likely weak to things outside of the &quot;rules&quot;!
especilly</p>
</aside></script></section><section  data-markdown><script type="text/template">
## Web3 Tech Stack

<img style="width: 1200px" src="../../assets/img/3-Blockchain/3.4-web3-stack.png" />

<aside class="notes"><p>This diagram is a bit dated with advancements in the field, but a good approx.
representation.</p>
<p>Observation and clarification: DApps canonically refer to smart contract applications.
These exist <em>within the context</em> of consensus systems that themselves inherit properties of unstoppability from.
The academy (to date) is almost exclusively focused on <em>consensus system engineering</em> - we reason about blockchains themselves, and &quot;DApp&quot;s use these as platforms to operate in.
Smart contracts module <em>may</em> include detains on unstoppable dapps design considerations.</p>
<!-- TODO: update this graphic, rather stale (Joe mentioned in Cambridge) -->
<!-- TODO: clarify based on smart contract content - does it inform on system design considerations for unstoppable dapps? --></aside></script></section><section  data-markdown><script type="text/template">
## A Lot More Than Blockchain

<pba-cols>
<pba-col>

Blockchains only form one part of the stack.

Web3 applications must prevent attacks at all layers.

</pba-col>
<pba-col>

<pba-flex center>

- Networking
- Consensus
- Node access
- Validator power
- Inter-consensus trust

</pba-flex>
</pba-col>
</pba-cols>

<aside class="notes"><p>These are for discussion today, but there are <em>many more</em> thank those listed here!</p>
</aside></script></section><section  data-markdown><script type="text/template">
## Web3 Criticisms

<pba-cols>
<pba-col>

There are [valid criticisms](https://moxie.org/2022/01/07/web3-first-impressions.html) of how many Web3 apps operate today.

</pba-col>
<pba-col>

<pba-flex center>

- Humans are cheap & lazy...<br/>
  No individuals run servers.
- RPC node providers
- A _protocol_ improves<br/>slowly vs. a platform.
- False marketing,<br/>frauds, & scams!

</pba-flex>
</pba-col>
</pba-cols>

<aside class="notes"><p><a href="https://moxie.org/2022/01/07/web3-first-impressions.html">https://moxie.org/2022/01/07/web3-first-impressions.html</a> great critique on the state of the space, but founder of <a href="https://signal.org">Signal messenger</a>.</p>
<p>Not all hope is lost!
This is valid mostly in the present, we will discuss these and what we&#39;re building to realize a better stack.</p>
</aside></script></section><section ><section data-markdown><script type="text/template">
<!-- .slide: data-background-color="#4A2439" -->

# Systems Level
</script></section><section data-markdown><script type="text/template">
## Prove it!

We use the word "proof" a lot...<br/>it means many things in [different contexts](https://en.wikipedia.org/wiki/Provable):

<pba-flex center>

- Math ‚Üí **Provable Correct** (algo)
- Consensus ‚Üí Proof of X (security)
- Crypto ‚Üí \[ZK | VRF | Validity | ... \] Proofs

</pba-flex>

<aside class="notes"><p>The one so far not covered is Provable Correctness - where we can use maths to <em>prove</em> that our logic cannot do unexpected behavior.
An interesting example is <a href="https://docs.cardano.org/explore-cardano/cardano-design-rationale">Cardano&#39;s design value proposition</a> using haskell and provably correct most parts of their platform.</p>
<p>BUT this property assumes a complete system model!
Nuke proposes that when considering factors outside the consensus system, there cannot be a rigorous proof of correctness as we cannot model the universe.</p>
</aside></script></section><section data-markdown><script type="text/template">
## üîÆ Oracle Problem

An [oracle](https://en.wikipedia.org/wiki/Category:Computation_oracles) provides eternal data to a consensus system.<br/>(i.e. a partial state of an external chain)

The [oracle problem](https://blog.chain.link/what-is-the-blockchain-oracle-problem/) relates to the _trust_ in the oracle.

<aside class="notes"><ul>
<li>Example: Random Oracle, NOT like VRF we saw in the crypto module that can be in the consensus system.</li>
<li>Oracle needed for <em>input</em> from anything that lives outside of the boundary of the consensus system.<ul>
<li>Everything in a chain is self-referential.
Applications in a consensus system may want to <em>try</em> and reason about something outside itself.</li>
</ul>
</li>
<li>Inclusive of bridges</li>
<li><a href="https://blog.chain.link/what-is-the-blockchain-oracle-problem/">https://blog.chain.link/what-is-the-blockchain-oracle-problem/</a></li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## ü¶¢ Black Swans

<pba-flex center>

- known bounds of operation _assumed_ impossible
- death spirals

</pba-flex>

<aside class="notes"><p>Explain example of luna or other system collapse.</p>
<ul>
<li>üìî<a href="https://en.wikipedia.org/wiki/The_Black_Swan:_The_Impact_of_the_Highly_Improbable">The Black Swan: The Impact of the Highly Improbable</a></li>
<li><a href="https://en.wikipedia.org/wiki/Black_swan_theory">Wiki Black Swan Theory</a></li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## ü§Ø Complexity

<pba-cols>
<pba-col>

<img rounded style="height: 700px;" src="../../assets/img/3-Blockchain/Genealogy_map_of_topics_treated_by_Nassim_Taleb.jpg" alt="https://en.wikipedia.org/wiki/Nassim_Nicholas_Taleb#/media/File:Genealogy_map_of_topics_treated_by_Nassim_Taleb.jpg" />

</pba-col>
<pba-col>

- Illustrating how to map the intricacies of _coupled, complicated, interactions of systems_.
- \* You are not expected to understand this plot üòÖ

</pba-col>
</pba-cols>

<aside class="notes"><ul>
<li>Great talk by the author: <a href="https://www.youtube.com/watch?v=S3REdLZ8Xis">https://www.youtube.com/watch?v=S3REdLZ8Xis</a> reference talk by book author.</li>
</ul>
<p>Example: irrational actors can be represented in a very simple model as a completely random act, or opposite act of what a rational actor would do. If you &quot;fuzz&quot; you system you may discover fragility to irrational actions that could undermine your system. Perhaps it&#39;s far easier and more likely than it at first appears to experience a black swan event.</p>
<ul>
<li>Image <a href="https://en.wikipedia.org/wiki/Nassim_Nicholas_Taleb#/media/File:Genealogy_map_of_topics_treated_by_Nassim_Taleb.jpg">source</a> - Describes the various categories of uncertainty, epistemology limits and statistical subjects touching on Taleb&#39;s Black swan / antifragility etc. ideas</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## üë™ Dependency

<pba-cols>
<pba-col>

<img rounded style="width: 500px; margin-right: -5em" src="../../assets/img/3-Blockchain/3.4-xkcd-dependency.png" alt="https://xkcd.com/2347/" />

</pba-col>
<pba-col>

- [Confusion](https://secureteam.co.uk/news/what-is-a-dependency-confusion-attack/)
- [Hijacking](https://blog.sonatype.com/bladabindi-njrat-rat-in-jdb.js-npm-malware)
- [Hardware side-channel attacks](https://hackaday.com/2019/09/13/side-channel-attack-shows-vulnerabilities-of-cryptocurrency-wallets/)

</pba-col>
</pba-cols>

<aside class="notes"><ul>
<li>yes in software and hardware, you are at risk of attack from poisoned deps through non-maintenance, up to targeted exploitation.
One mitigation is vendoring these, need systems inn place to monitor.
Dependabot is not sufficient.</li>
<li>Also in dependance on specific operational contexts.
For example that it is legal to operate the software for nodes.</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## ü¶∏ Dependency in Polkadot

<pba-cols>
<pba-col>

<img rounded style="width: 500px; margin-right: -5em" src="../../assets/img/3-Blockchain/dependency-polkadot-js.png" />

</pba-col>
<pba-col>

> _Foundational_ to Polkadot ecosystem!

</pba-col>
</pba-cols>

<aside class="notes"><ul>
<li><a href="https://github.com/jacogr">Jaco</a> is effectively the only maintainer of how <em>just about everything</em> communicates with Substrate nodes!</li>
<li><a href="https://github.com/paritytech/capi">Capi</a> is on the way, but just getting started.</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## üôà Unknown unknowns

<img rounded style="width: 800px" src="../../assets/img/3-Blockchain/DiveEdge.gif" />

<aside class="notes"><p>Outside of the system itself, we cannot guarantee/prove that every possible condition is accounted for in our models &amp; system design.
We must expect forces outside our system &amp; it&#39;s model may interact in unexpected ways.
Assumptions about context must be rigorously evaluated (i.e. - what does finality mean in the chain this pallet or contract lives in?)
(Formal mathematical proofs reason only about the things we can and do account for.)</p>
</aside></script></section></section><section ><section data-markdown><script type="text/template">
<!-- .slide: data-background-color="#4A2439" -->

# Network Level
</script></section><section data-markdown><script type="text/template">
## üï∏Ô∏è Peer-to-Peer Networks

<img style="width: 1000px" src="../../assets/img/3-Blockchain/3.4-network-topologies.png" />
</script></section><section data-markdown><script type="text/template">
## Network Attacks

<pba-flex center>

- Entry/Boot nodes and peer discovery
- Data center faults
- Traffic analysis and targeted takedowns
- Eclipse attacks

</pba-flex>

<aside class="notes"><p>The network lesson covers these, just a reminder that the network is not in the direct command of the consensus system, so it&#39;s a threat!</p>
<ul>
<li>security &amp; stability</li>
<li>privacy!
On chain might be ZK, but how about the gossip and RPCs?</li>
</ul>
<p>Boot nodes typically <em>hard coded</em> to &quot;bootstrap&quot; and start peer discovery.
Boot nodes can decide what peers to advertize, or can be inaccessible.
Common data centers (AWS, GCP, ...) could fail or censor, potentially large number of peers go dark.
Hard to hide! Most p2p traffic is easy to identify vs. web2 traffic.</p>
</aside></script></section><section data-markdown><script type="text/template">
## Node Queries

Running a node is hard, most people outsource.

<img style="width: 1000px" src="../../assets/img/3-Blockchain/3.4-node-queries.png" />

These service have power to deceive, censor, and surveil.
</script></section><section data-markdown><script type="text/template">
## Multi-Chain Applications

If running _one_ node is burdensome, try multiple.

<img style="width: 700px" src="../../assets/img/3-Blockchain/3.4-multi-chain-apps.png" />
</script></section><section data-markdown><script type="text/template">
## Trustless Messaging

In order to handle messages _without trust_,<br/>systems must share common finality guarantees.

`A` should never process a message from `B`,<br/>where `B` is reverted and `A` is not.
</script></section><section data-markdown><script type="text/template">
## A Note on Synchronicity

Smart contracts on a single chain (e.g. Ethereum)<br/>can interact trustlessly because of their shared view of finality.

Asynchronous systems can also share finality.<br/>
i.e., be members of the same consensus system.
</script></section><section data-markdown><script type="text/template">
<!-- .slide: data-background-color="#4A2439" -->

# Discussion

**Minimum viable decentralization.**

> What key aspects should be considered?

<aside class="notes"><ul>
<li>Quantitative: nodes needed (for what), incentives, ... TODO</li>
<li>Qualitative: social norms, ... TODO</li>
</ul>
</aside></script></section></section><section ><section data-markdown><script type="text/template">
<!-- .slide: data-background-color="#4A2439" -->

# Consensus
</script></section><section data-markdown><script type="text/template">
## Mining Pools

Proof of Work authority sets have no finite bound.<br/>
But people like to organize.

\[Collaborating | Colluding\] authority sets creates risk.

<aside class="notes"><p>Call out that Nomination pools exist and are discussed in the NPoS lesson latter.
Similar issues, but in a more bounded set.</p>
</aside></script></section><section data-markdown><script type="text/template">
## Mining Pools

<img rounded style="width: 1000px" src="../../assets/img/3-Blockchain/mining-pools.png" />

<aside class="notes"><p>Source: <a href="https://www.buybitcoinworldwide.com/pages/mining/pools/img/pool-graph.png">Buy Bitcoin Worldwide</a></p>
</aside></script></section><section data-markdown><script type="text/template">
## Security Dilution

Security is always a finite resource:

<pba-flex center>

- Centralized: Cost of corruption/influence
- Proof of Work: Number of CPUs in the world
- Proof of Stake: Value (by definition, finite)

</pba-flex>
</script></section><section data-markdown><script type="text/template">
## Security Dilution

Consensus systems compete for security,<br/>and they have reason to attack each other.

Emergence of obscure/niche "Proof of X" algorithms<br/>to shelter from attack only goes so far.
</script></section><section data-markdown><script type="text/template">
## ‚öî Blockchain Wars

Systems with high security have the<br/>incentive to attack systems with low security<br/>whom they perceive as competitors.

> For fun and profit.

<aside class="notes"><p>&quot;In <del>a galaxy</del> the universal consensus <del>far far away</del> not so far away...&quot;</p>
</aside></script></section><section data-markdown><script type="text/template">
## ‚öî Proof of Work Battles

<img rounded style="width: 1300px;" src="../../assets/img/3-Blockchain/3.4-51-percent-cost.png" />

> What might it cost to successfully attack?

<aside class="notes"><ul>
<li>For PoW, hashing power for the same algo can be attacked!
Buying hash power is possible:</li>
<li>Most GPU miners switch tasks to the mine the highest paying (relative to some base currency) chain using software like <a href="https://www.nicehash.com/">https://www.nicehash.com/</a>.</li>
<li>ASICs are less flexible, but also can to the highest paying coin.</li>
<li>Example: <a href="https://coingeek.com/ethereum-classic-experiences-51-attack-and-3000-block-reorg/">ETH classic deep re-ogs</a></li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## Proof of...<br/>Nothing at Stake

Forks are "free" to vote in favor of...<br/>
vote on them all!

(If you are not eventually slashed!)

> What might it cost to successfully attack?

<aside class="notes"><ul>
<li>Unlike PoW where voting on a chain costs something <em>extrinsic</em> to the system, PoS has only <em>intrinsic</em> measures to do accounting of consensus rules.</li>
<li><strong>Critical:</strong> This was a problem with early naive implementations of PoS.
Modern PoS schemes avoid this specific problem by having the security deposit and slashing for equivocation (in a few slides)</li>
<li>Good explainer, source of image: <a href="https://golden.com/wiki/Nothing-at-stake_problem-639PVZA">https://golden.com/wiki/Nothing-at-stake_problem-639PVZA</a></li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## Proof of...<br/>_Relatively_ Nothing at Stake

Risk-to-reward ratio of attacks is<br/>_relative to the valuation of the staked assets_.

Rational actors take into account<br/>_extrinsic motivators_ in calculating the highest reward.

> What might it cost to successfully attack?

<aside class="notes"><ul>
<li>Again PoS ha only <em>intrinsic</em> measures to do accounting of consensus rules, but the system doesn&#39;t exist in a vacuum: the relative valuation of what is at stake needs to be accounted for.</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## Validator Consolidation

How many validators does a system need?

Higher numbers should lead to a decrease in the ability for entities to collude.

But validators are expensive, both economically and computationally.

<aside class="notes"><p>Yet another N-lemma to consider.</p>
</aside></script></section><section data-markdown><script type="text/template">
## PoS Economic Security

Proposition: The upper bound of economic security in PoS is relative valuation can secure, that is correlated with the market capitalization of the network.

> Market capitalization refers to the total market value of all assets inherent to a single company/chain/token.

<aside class="notes"><ul>
<li>This market capitalization could be company shares, or total ETH in existence, or total X token associated with a specific smart contract or parachain.</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## ‚öî PoS Economic Security Battles

<img rounded style="width: 1150px;" src="../../assets/img/3-Blockchain/market-cap-pos.png" />

<aside class="notes"><p>Here like in PoW we have relative safety in networks, but there is no way to &quot;hop&quot; from one chain to another, so the war is still in the relative security, but one stake cannot <em>directly</em> attach another stake in a separate consensus system...</p>
<p>What about an system of value <em>within</em> consensus?</p>
</aside></script></section><section data-markdown><script type="text/template">
## DApp PoS Economic Security

<img rounded style="width: 1200px;" src="../../assets/img/3-Blockchain/market-cap-polkadot-chains.png" />

<aside class="notes"><p>Consideration: these notes are an oversimplification! We may talk more about this kind of problem in NPoS lesson (Nuke thinks at least).
The details of a formal analysis are out of scope for this Academy.</p>
<p>Proposition: Total applications valuation of their assets (tokens on smart contracts, or parachains) is limited and that limit is correlated with the total economic security of the consensus system they reside in.</p>
<p>In Polkadot&#39;s relay chain model, Nuke would argue it&#39;s feasible that an attack to extract value from a very highly valued asset could outweighs the cost of obtaining a <em>byzantine level of stake</em> to execute.
Therefore the sum of all parachains market cap is also limited as that same level of stake control would enable take over of all chains on it.</p>
<p>Nuke argue this is the same for the sum of all contracts valuations on something like Ethereum.</p>
</aside></script></section><section data-markdown><script type="text/template">
## Authority Misbehavior

<pba-flex center>

- Equivocation
  - Authorship: Proposing mutually<br/>exclusive chains
  - Finality: Voting for mutually<br/>exclusive chains to be final
- Invalidity
- Lack of availability
- **Intentional protocol abuse** ([selfish mining](https://golden.com/wiki/Selfish_mining_attack-39PMNNA))

</pba-flex>

<aside class="notes"><p>We already talked consensus faults, but abuse is newer.
Nuke argues &quot;abuse&quot; as a term here isn&#39;t the intended mechanism design, and is adverse to the health of the system.
Selfish mining where it&#39;s impossible to <em>prove</em> an author is withholding valid blocks to &quot;cheat&quot; by mining ahead of the rest of th network is a good example in the class of attacks that consensus authorities and others may have.</p>
<p>...Could other actors abuse the protocols?</p>
</aside></script></section><section data-markdown><script type="text/template">
## Accountability of Authority

Authority should imply accountability.

No matter how you design an authority selection mechanism, some people will have a privileged position within it.

Those who _choose_ to become authorities should be liable for their actions.
</script></section><section data-markdown><script type="text/template">
## Provability and Equivocation

Some types of misbehavior are harder to prove than others.

**Equivocation** is simple:<br/>Someone can just produce two signed messages as cryptographic proof.

Others rely on challenge-response games and dispute resolution.

<aside class="notes"><p>Nothing at stake solution, with the possible caveot of long range attacks. <a href="https://blog.ethereum.org/2014/11/25/proof-stake-learned-love-weak-subjectivity">Weak subjectivity</a> can still potentially cause the same behavior in a much harder to orchestra way, with bad actors having already have their stake released to produce a valid, finalized fork.</p>
</aside></script></section><section data-markdown><script type="text/template">
## Design Considerations<br/>in Polkadot

- More validators increases the state transition throughput of the network: parachains.
- Individual shards have full economic freedom by being members of a larger consensus system.
- _Superlinear_ slashing puts colluding validators at existential risk,<br/>while well-meaning ones should have little to worry about).

<aside class="notes"><p>A few interesting design decisions in Polkadot&#39;s architecture.</p>
<p>We will cover polkadot much more in depth latter!</p>
</aside></script></section><section data-markdown><script type="text/template">
## Transaction Censorship and Ordering

Block authors choose the transactions they include and in what order.

<pba-flex center>

- Censorship attacks
- "Maximal extractable value" (MEV)

</pba-flex>
</script></section><section data-markdown><script type="text/template">
## Web3 Goal: Non-Censorship

There are a lot more system users than system authorities.

However, every transaction must be included by an authority.

If no authority will include a user's transaction, they do not have _permissionless_ access.

_If any authority (author) decides not to censor, it **may** be included._

<aside class="notes"><p>Most present systems have no mechanism to penalize censorship, and a much harder problem can be the ability to discover this is happening on the network at all, depending on the actors involved.</p>
</aside></script></section><section data-markdown><script type="text/template">
## Maximal Extractable Value (MEV)

A measure of the value that block authors can extract based on their knowledge of pending transactions and ability to order them.

<pba-flex center style="margin-left: -90px">

- Frontrunning
- Backrunning
- Sandwiching

</pba-flex>

> https://www.mev.wiki/

<aside class="notes"><p>Emergent behavior.
Not realized as possible by many until it quietly became the norm.</p>
</aside></script></section><section data-markdown><script type="text/template">
## Maximal Extractable Value

> An environment in which detection means certain death...<br/>
> ...identifying someone‚Äôs location is as good as directly destroying them.<br/><br/>
> -- [Ethereum is a Dark Forest](https://www.paradigm.xyz/2020/08/ethereum-is-a-dark-forest) --

<aside class="notes"><p>Tell the story of this article, basically a white hat engineered obfuscation to try and remove funds in a bugged contract -&gt; someone decoded, realized extractable valued, and front-ran them.</p>
<p>This is now the norm on Ethereum at least, and further <em>it&#39;s becoming institutionalized</em>.</p>
<!-- TODO Dark Forest¬†game on Ethereum testnet... or other zk game? --></aside></script></section><section data-markdown><script type="text/template">
## üëº Flashbots

> Flashbots is a research and development organization formed to mitigate the negative externalities posed by Maximal Extractable Value (MEV) to stateful blockchains, starting with Ethereum.<br/><br/>
> -- [Flashbots](https://www.flashbots.net/) --

<aside class="notes"><p>This might be misleading, in that they are profiting in making MeV more effective and institutionalized!</p>
</aside></script></section><section data-markdown><script type="text/template">
## Flashbots üòà

- **Flashbots Auction**: a marketplace for transaction ordering including the Flashbots Relay and MEV-Geth.
- **MEV-Boost**: an out-of-protocol implementation of proposer-builder separation (PBS) for proof-of-stake Ethereum.
- **Flashbots Protect**: an rpc endpoint that anyone can use for protection from frontrunning and failed transactions.
- **Flashbots Data**: tools and dashboards to improve the transparency of MEV activity on Ethereum and the Flashbots Auction.

<aside class="notes"><p>Centralizing force, as information asymmetry generally drives towards a monopoly on MeV.
Competitive landscape for this exists, and to Flashbots&#39; credit, they seem genuine in trying to help the health of Ethereum by decentralizing...</p>
<p>(BUT FIRST a discussion!)
Especially in light of recent OFAC pressures revealing fragility in the system...</p>
</aside></script></section><section data-markdown><script type="text/template">
<!-- .slide: data-background-color="#4A2439" -->

# Discussion

Front-running as a Service (FaaS) & MEV Auctions (MEVA)

_A solution or crutch?_

<aside class="notes"><ul>
<li>Flashbots &amp; Friends</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## Compliance

<img rounded style="width: 1000px" src="../../assets/img/3-Blockchain/tornado-ofac.png" />

<aside class="notes"><p><a href="https://cryptoslate.com/op-ed-is-ethereum-now-under-u-s-control-99-of-latest-relay-blocks-are-censoring-the-network/">https://cryptoslate.com/op-ed-is-ethereum-now-under-u-s-control-99-of-latest-relay-blocks-are-censoring-the-network/</a></p>
<ul>
<li>code is unstoppable, but platform <em>can</em> sensor. ability -&gt; responsibility (we may talk more on that latter)</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## Social Context

Social systems and norms can help _cover up_ weaknesses in protocols.

> Public monitor to shame OFAC censors:<br/> > https://www.mevwatch.info/

<aside class="notes"><ul>
<li>Pressure from peers through breaking norms, perhaps even lossing of authority in consensus due to this.
Peer reputation in computer networks, and here also in human ones.</li>
<li>Sometimes social pressures are healthy for the system, sometimes toxic depending on point of view and who benefits!</li>
<li>In monero &quot;run your own node&quot; culture helps keep it decentralized.<br/>
Bitcoin big block wars show social pressures help decide the canonical forks.</li>
<li>Normalizing MEV for the profit of middlemen, providing extraction services in the worst case.</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## Unbundling

<img style="width: 1200px" src="../../assets/img/3-Blockchain/3.4-web3-stack.png" />

<aside class="notes"><p>From before, but here point out how this is getting more fine grained as well, and where a single actor would do it all (early bitcoin for example) we are moving more and more to appear.</p>
<ul>
<li>Especially if more things like MeV can be enhanced by doing so.</li>
<li>This introduces more complexity and interfaces that can provide weakness (especially when a network is required!)</li>
</ul>
</aside></script></section><section data-markdown><script type="text/template">
## Diversity

<img style="width: 1200px" src="../../assets/img/3-Blockchain/eth-client-diversity.png" alt="https://mirror.xyz/jmcook.eth/S7ONEka_0RgtKTZ3-dakPmAHQNPvuj15nh0YGKPFriA" />

<aside class="notes"><ul>
<li><p>Parity saved ETH (alt clients, and diversity)</p>
<ul>
<li>same runtime on chain, it&#39;s impossible to have an alt runtime.</li>
</ul>
</li>
<li><p>all on GCP</p>
</li>
<li><p>All run same hardware (CPU, etc.)</p>
</li>
<li><p>...</p>
</li>
<li><p>Image source, and good reference on this: <a href="https://mirror.xyz/jmcook.eth/S7ONEka_0RgtKTZ3-dakPmAHQNPvuj15nh0YGKPFriA">https://mirror.xyz/jmcook.eth/S7ONEka_0RgtKTZ3-dakPmAHQNPvuj15nh0YGKPFriA</a></p>
</li>
</ul>
</aside></script></section></section><section  data-markdown><script type="text/template">
## Final Thoughts

- Complexity generally increases the risks of failures, but we should not fear it.<br/>
  $~~~$_Hypothesis: this \_usually_ makes systems more brittle.\_
- Observable behavior trumps models and theory.<br/>
  $~~~$_Complex systems are not intuitive and may show your assumptions and models are wrong!_
- This lesson was a _start_ down holes...
  $~~~$_We encourage you to keep diving deeper!_

<aside class="notes"><ul>
<li>Risks and unknown unknowns increase exponentially so in many cases.</li>
<li>Examples of observables in things like MEV OFAC dominance and Babe fallback dominance etc.</li>
<li>Looking forward to explore the great unknown horizons in Web3 together!</li>
</ul>
</aside></script></section><section  data-markdown><script type="text/template">
## ü§ù Together, into the Deep

<img rounded style="width: 800px" src="../../assets/img/3-Blockchain/DiveEdge.gif" />
</script></section><section  data-markdown><script type="text/template">
<!-- .slide: data-background-color="#4A2439" -->

# Questions
</script></section><section  data-markdown><script type="text/template">
<!-- .slide: data-background-color="#000000" -->

# Additional Slides

<aside class="notes"><p>For reference mostly, outside of formal class time üòÄ</p>
</aside></script></section><section ><section data-markdown><script type="text/template">
## Governance... Unstoppable?

<iframe width="1120" height="630" src="https://www.youtube-nocookie.com/embed/Q6euy5W1js4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

[Unstoppable Code: The Difference Between Can't and Won't](https://www.youtube-nocookie.com/embed/Q6euy5W1js4)

<aside class="notes"><p>Watch <em>after class</em>!
Perhaps assigned informally to everyone to watch in the next few days.</p>
</aside></script></section><section data-markdown><script type="text/template">
## Unstoppable Code

> It seizes power from dominate forms of power: governments, corporations, states, associations, cultures, religions.
> It seizes power, from these big things and gives it to little people.
> And sooner or later, the people who are losing their undeserved, abusively applied power will start to fight back.
> And at that point, we will start to find out how unstoppable our code is.<br/><br/>
> -- Andreas Antonopoulos --
</script></section><section data-markdown><script type="text/template">
## Can't vs. Won't

> The moment you go over the the line from "can't to won't, what started as an ability becomes a responsibility.
> And then if you claim that you don't have the ability anymore, that responsibility just became negligence, criminal negligence.<br/><br/>
> -- Andreas Antonopoulos --

<aside class="notes"><ul>
<li>The difference?</li>
<li>Silk road founder getting 2 life sentences + 40 years.</li>
<li>moral relativism -&gt; &quot;who&#39;s law?&quot;</li>
<li>Don&#39;t make your &quot;oops clause&quot; -&gt; not too narrow.</li>
</ul>
</aside></script></section></section><section ><section data-markdown><script type="text/template">
## DAOs

Decentralized Autonomous Organizations ([DAOs](https://www.investopedia.com/tech/what-dao/)).

> A **coordination** mechanism.
</script></section><section data-markdown><script type="text/template">
## Democratic Systems

Democratic Mediums is a directory of patterns<br/> for decision, deliberation, and noise.

<pba-flex center>

- https://medlabboulder.gitlab.io/democraticmediums/
- https://metagov.org/ -- weekly seminar
- https://daocollective.xyz/
- https://www.smartcontractresearch.org/

</pba-flex>

<aside class="notes"><p>Very much encouraged to explore after class!
Many novel and niece definitions in this wiki.</p>
</aside></script></section></section><section  data-markdown><script type="text/template">
## Modeling Behavior

> [Token Engineering](https://tokenengineeringcommunity.github.io/website/)<br/>
> {especially the Academy & cadCAD Edu}

<aside class="notes"><p>Mostly free education and tools to dive deeper on tokenomics.
Remember, these are <em>models</em> of idealized systems in general, real world conditions will differ!</p>
</aside></script></section>
    </article>
  </main>

  <script src="./../../dist/reveal.js"></script>

  <script src="./../../plugin/markdown/markdown.js"></script>
  <script src="./../../plugin/highlight/highlight.js"></script>
  <script src="./../../plugin/zoom/zoom.js"></script>
  <script src="./../../plugin/notes/notes.js"></script>
  <script src="./../../plugin/math/math.js"></script>
  <script>
    function extend() {
      var target = {};
      for (var i = 0; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (source.hasOwnProperty(key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    }

    // default options to init reveal.js
    var defaultOptions = {
      controls: true,
      progress: true,
      history: true,
      center: true,
      transition: 'default', // none/fade/slide/convex/concave/zoom
      slideNumber: true,
      plugins: [
        RevealMarkdown,
        RevealHighlight,
        RevealZoom,
        RevealNotes,
        RevealMath
      ]
    };

    // options from URL query string
    var queryOptions = Reveal().getQueryHash() || {};

    var options = extend(defaultOptions, {"width":1400,"height":900,"margin":0,"minScale":0.2,"maxScale":2,"transition":"none","controls":true,"progress":true,"center":true,"slideNumber":true,"backgroundTransition":"fade"}, queryOptions);
  </script>


  <script>
    Reveal.initialize(options);
  </script>
</body>

</html>
